{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nilan Clothing</title>
    <link rel="stylesheet" href="{% static 'style.css' %}">
</head>

<body>
    <header>
        <div class="logo">
            <h1>Nilan Clothing</h1>
        </div>
        <nav>
            <a href="/">Главная</a>
            <a href="{% url 'shop:product_list' %}">Каталог</a>
            <a href="{% url 'shop:cart_detail' %}">Корзина</a>
            {% if user.is_authenticated %}
            <a href="{% url 'users:profile' %}">Личный кабинет</a>
             <a href="{% url 'users:logout' %}">Выйти</a>
            {% else %}
            <a href="{% url 'users:login' %}">Войти</a>
            <a href="{% url 'users:register' %}">Регистрация</a>
            {% endif %}
        </nav>
    </header>

    <main>
        <section class="hero">
            <h2>Nilan Clothing</h2>
            <p>Ваш Стиль. Ваши Правила.</p>
        </section>

        <section class="categories">
            <h2>Наши товары</h2>
            <div class="category-grid">
                {% for category in categories %}
                <div class="category-card">
                    {% if category.image %}
                        <img src="{{ category.image.url }}" alt="{{ category.name }}" class="category-image">
                    {% else %}
                        <div class="category-placeholder">{{ category.name }}</div>
                    {% endif %}
                    <h3>{{ category.name }}</h3>
                    <a href="{% url 'shop:product_list' %}?category={{ category.slug }}" class="category-link">
                        Смотреть товары
                    </a>
                </div>
                {% endfor %}
            </div>
        </section>

        <section class="products">
            <h2>Коллекция Nilan</h2>
            
            {% if products %}
                <div class="products-grid">
                    {% for product in products %}
                    <div class="product-card">
                        {% if product.image %}
                            <img class="product-image" src="{{ product.image.url }}" alt="{{ product.name }}">
                        {% else %}
                            <img class="product-image" src="{% static 't-shirt.png' %}" alt="{{ product.name }}">
                        {% endif %}
                        <h3>{{ product.name }}</h3>
                        <p>{{ product.description|truncatewords:10 }}</p>
                        <p class="price">{{ product.price }} руб.</p>
                        <form method="post" action="{% url 'shop:add_to_cart' product.id %}">
                            {% csrf_token %}
                            <button type="submit">В корзину</button>
                        </form>
                        <a href="{% url 'shop:product_detail' product.id %}" style="margin-top: 0.5rem; display: block;">
                            <button style="background: #666;">Подробнее</button>
                        </a>
                    </div>
                    {% endfor %}
                </div>
            {% else %}
                <p>Первые товары появятся здесь скоро</p>
                <div class="products-grid">
                    <!-- Заглушки если товаров нет в базе -->
                    <div class="product-card">
                        <img class="product-image" src="{% static 't-shirt.png' %}" alt="Футболка Nilan"> 
                        <h3>Футболки</h3>
                        <p>Скоро в продаже</p>
                        <p class="price">от 1500 руб.</p>
                        <button>Узнать о запуске</button>
                    </div>

                    <div class="product-card">
                        <img class="product-image" src="{% static 'sweater.png' %}" alt="Кофта Nilan"> 
                        <h3>Кофты</h3>
                        <p>Скоро в продаже</p>
                        <p class="price">от 3500 руб.</p>
                        <button>Узнать о запуске</button>
                    </div>

                    <div class="product-card">
                        <img class="product-image" src="{% static 'cap.png' %}" alt="Кепка Nilan"> 
                        <h3>Кепки</h3>
                        <p>Скоро в продаже</p>
                        <p class="price">от 1200 руб.</p>
                        <button>Узнать о запуске</button>
                    </div>

                    <div class="product-card">
                        <img class="product-image" src="{% static 'shorts.png' %}" alt="Шорты Nilan"> 
                        <h3>Шорты</h3>
                        <p>Скоро в продаже</p>
                        <p class="price">от 2000 руб.</p>
                        <button>Узнать о запуске</button>
                    </div>

                    <div class="product-card">
                        <img class="product-image" src="{% static 'bracelet.png' %}" alt="Браслет Nilan"> 
                        <h3>Браслеты</h3>
                        <p>Скоро в продаже</p>
                        <p class="price">от 500 руб.</p>
                        <button>Узнать о запуске</button>
                    </div>

                    <div class="product-card">
                        <img class="product-image" src="{% static 'ring.png' %}" alt="Кольцо Nilan"> 
                        <h3>Кольца</h3>
                        <p>Скоро в продаже</p>
                        <p class="price">от 800 руб.</p>
                        <button>Узнать о запуске</button>
                    </div>
                </div>
            {% endif %}
        </section>
    </main>

    <footer class="site-footer">
        <div class="footer-content">
            <div class="social-links">
                <h3>Мы в соцсетях</h3>
                <div class="social-icons">
                    <a href="#" class="social-link">Telegram</a>
                    <a href="#" class="social-link">VK</a>
                </div>
            </div>
            
            <div class="copyright">
                <p>&copy; 2025 Nilan Clothing. Все права защищены.</p>
                <p>Сайт создан с ❤️ для фанатов стиля</p>
            </div>
        </div>
    </footer>
</body>
</html>